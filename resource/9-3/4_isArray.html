<!doctype html>
<html>
  <head>
    <title></title>
    <meta charset="utf-8">
  </head>
  <body>
    <script>
      //typeof
      var n=1,s="Hello",b=true,
          nu=null,un=undefined,
          fun=function(){},
          obj={},
          arr=[],
          obj2={};
      obj2.__proto__=arr;
    /*
      document.write(
        "<br>"+typeof(n)+
        "<br>"+typeof(s)+
        "<br>"+typeof(b)+
        "<br>"+typeof(nu)+//object
        "<br>"+typeof(un)+
        "<br>"+typeof(fun)+
        "<br>"+typeof(obj)+
        "<br>"+typeof(arr)
      );
    */
    /*  
      document.write(//isPrototypeOf
      "<br>"+Array.prototype.isPrototypeOf(obj)+
      "<br>"+Array.prototype.isPrototypeOf(arr)+
      "<br>"+Array.prototype.isPrototypeOf(obj2)
      );
      document.write(//instanceof
      "<br>"+(obj instanceof Array)+
      "<br>"+(arr instanceof Array)+
      "<br>"+(obj2 instanceof Array)
      );
    */
    /*
      document.write(//Object.prototype.toString
        "<br>"+(Object.prototype.toString.call(obj)
          =="[object Array]")+
        "<br>"+(Object.prototype.toString.call(arr)
          =="[object Array]")+
    "<br>"+(Object.prototype.toString.call(obj2)
          =="[object Array]")
      );
    */
      //如果Array构造函数没有isArray
      if(Array.isArray===undefined){
        //在Array的构造函数中添加isArray=
        Array.isArray=function(obj){
          //强行用obj调用Object.prototype.toString，如果结果是"[object Array]"，就返回true
          //否则，返回false
          return Object.prototype.toString
                       .call(obj)
                       =="[object Array]"?
                                    true:false;
        }
      }
      document.write(//Array.isArray(obj);//ES5
        "<br>"+Array.isArray(obj)+
        "<br>"+Array.isArray(arr)+
        "<br>"+Array.isArray(obj2)
      );//因为要检查的对象不一定是数组类型，所以isArray方法不能放在Array.prototype中。
        //放在Array.prototype中的方法只能被数组类型访问
    </script>
  </body>
</html>