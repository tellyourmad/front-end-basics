<!doctype html>
<html>
  <head>
    <title></title>
    <meta charset="utf-8">
  </head>
  <body>
    <script>
      //扩展String类型的trim方法:
      //如果String.prototype中没有trim
      if(String.prototype.trim===undefined){
        //在String类型的prototype中添加trim方法
        String.prototype.trim=function(){
          return this.replace(/^\s+|\s+$/g,"");
        }
      }

      var str=" zhang dong ";
      document.write("|"+str.trim()+"|");

      //扩展Array类型的indexOf方法
      //如果Array类型的原型对象不包含indexOf
      if(Array.prototype.indexOf===undefined){
        //为Array类型的原型对象添加indexOf方法,定义两个参数: val,fromi
        Array.prototype.indexOf=
          function(val,fromi){
            //如果fromi是undefined，就赋值为0
            fromi===undefined&&(fromi=0);
            //从fromi开始遍历当前数组中每个元素
            for(;fromi<this.length;fromi++){
              //如果当前元素等于val
              if(this[fromi]==val){
                return fromi;//返回当前位置
              }
            }//(遍历结束)
            return -1;//返回-1
          }
      }

      var arr=[1,2,3,2,1];
             //0 1 2 3 4
      document.write(
        "<br>"+arr.indexOf(2/*,0*/)+//1
        "<br>"+arr.indexOf(2,2)+//3
        "<br>"+arr.indexOf(2,4)+//-1
        "<br>"+arr.indexOf(4)//-1
      );
    </script>
  </body>
</html>