<!DOCTYPE HTML>
<html>
	<head>
		<title>取消与利用冒泡</title>
		<meta charset="utf-8"/>
		<link rel="stylesheet" href="css/3.css"/>
		
	</head>
	<body>
		<div id="keys">
			<button>1</button>
			<button>2</button>
			<button>3</button>
			<button>4</button><br>
			<button>C</button>
			<button>+</button>
			<button>-</button>
			<button>=</button>
		</div>
		<textarea id="sc" style="resize:none;width:200px; height:50px;" readonly></textarea>
    <script>
			//定义函数calc，获得事件对象e
      function calc(e){
        //获得目标元素target
        var target=e.target;
        //如果target是button
        if(target.nodeName=="BUTTON"){
          //判断target的内容
          switch(target.innerHTML){
            case "C"://是C
              //清除id为sc的元素的内容
              sc.value=""; break;
            case "="://是=
              try{//尝试:
                //将sc的内容传入eval中,将结果保存回sc的内容中
                sc.value=eval(sc.value);
              }catch(err){//如果出错
                //将错误对象转为字符串，赋值给sc的内容
                sc.value=String(err);
              }
              break;
            default: //否则
              //将target的内容拼接到sc的内容上
              sc.value+=target.innerHTML
          }
        }
      }
      //为id为keys的div添加单击事件监听，函数为calc
      keys.addEventListener("click",calc);
		</script>
	</body>
</html>