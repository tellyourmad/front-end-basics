<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>全选和取消全选</title>
</head>
<body>
	<h2>管理员列表</h2>
	<table border="1px" width="500px">
	  <thead>
		<tr>
			<th><input type="checkbox" onclick="checkAll(this)"/>全选</th>
			<th>管理员ID</th>
			<th>姓名</th>
			<th>操作</th>
		</tr>
	  </thead>
	  <tbody>
	  	<tr>
	  		<td><input type="checkbox" name="adminID"  onclick="checkSel(this)"/></td>
	  		<td>1</td>
	  		<td>Tester</td>
	  		<td>修改 删除</td>
	  	</tr>
	  	<tr>
	  		<td><input type="checkbox" name="adminID"  onclick="checkSel(this)"/></td>
	  		<td>2</td>
	  		<td>Manager</td>
	  		<td>修改 删除</td>
	  	</tr>
	  	<tr>
	  		<td><input type="checkbox" name="adminID" onclick="checkSel(this)"/></td>
	  		<td>3</td>
	  		<td>Analyst</td>
	  		<td>修改 删除</td>
	  	</tr>
	  	<tr>
	  		<td><input type="checkbox" name="adminID" onclick="checkSel(this)"/></td>
	  		<td>4</td>
	  		<td>Admin</td>
	  		<td>修改 删除</td>
	  	</tr>
	  </tbody>
	</table>
  <script>
    function checkAll(chb){
      //查找table下的tbody下的每行第一个td中input，保存在chbs中
      var chbs=document.querySelectorAll(
        "table>tbody td:first-child>input"
      );
      //遍历chbs中每个chb
      for(var i=0;i<chbs.length;i++){
        //设置当前chb的checked等于chb的checked
        chbs[i].checked=chb.checked;
      }
    }
    function checkSel(chb){
      //查找thead中tr下的td中的input,保存在变量chbAll中
      var chbAll=document.querySelector(
        "thead>tr>th>input"
      );
      //如果chb的checked为false，就设置chbAll的checked为false
      if(chb.checked==false){
        chbAll.checked=false
      }else{//否则
        //查找table下的tbody下的每行第一个td中input，保存在chbs中
        var chbs=document.querySelectorAll(
          "table>tbody td:first-child>input");
        //遍历chbs中每个chb
        for(var i=0;i<chbs.length;i++){
          //如果当前chb的checked为false
          if(chbs[i].checked==false){
            //则chbAll的checked为false
            chbAll.checked=false;
            return;//退出函数
          }
        }//遍历结束
        //设置chbAll的checked为true
        chbAll.checked=true;
      }
    }
  </script>
</body>
</html>
