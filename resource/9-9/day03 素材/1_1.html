<!DOCTYPE HTML>
<html>
<head>
<title>动态创建表格</title>
<meta charset="utf-8" />
<style>
	table{width:600px; border-collapse:collapse;
		text-align:center;
	}
	td,th{border:1px solid #ccc}
</style>

</head>
<body>
	<div id="data">
	</div>
  <script>
    var json='[{"ename":"Tom", "salary":10000, "age":25},{"ename":"John", "salary":11000, "age":28},{"ename":"Mary", "salary":12000, "age":25}]';
    var emps=eval(json);
    
    //创建table
    var table=document.createElement("table");
    //创建thead
    var thead=document.createElement("thead");
    //将thead追加到table下
    table.appendChild(thead);
    var tr=document.createElement("tr");//创建tr
    thead.appendChild(tr);//将tr追加到thead下
    //遍历emps中第1个对象的每个属性
    for(var key in emps[0]){
      //创建th
      var th=document.createElement("th");
      //设置th的内容为当前属性名
      th.innerHTML=key;
      tr.appendChild(th);//将th追加到tr中
    }
    //创建tbody
    var tbody=document.createElement("tbody");
    //将tbody追加到table下
    table.appendChild(tbody);
    //遍历emps中每个员工对象
    for(var i=0;i<emps.length;i++){
      //创建一个tr
      var tr=document.createElement("tr");
      //将tr追加到tbody下
      tbody.appendChild(tr);
      //遍历当前员工的每个属性
      for(var key in emps[i]){
        //创建一个td
        var td=document.createElement("td");
        //将td追加到tr中
        tr.appendChild(td);
        //设置td的内容为当前属性值
        td.innerHTML=emps[i][key];
      }
    }

    //将table追加id为data的元素下
    document.getElementById("data")
            .appendChild(table);
  </script>
</body>
</html>
